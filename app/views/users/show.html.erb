<div class="row justify-content-md-center profile-wrapper">
  <div class="col-md-4 text-center">
    <%= image_tag avatar_url(@user), alt: 'profile-picture', class: 'img-size round-image' %>
  </div>
  <div class="col-md-8">
    <div class="row">
      <p class="name"><%= @user.name %></p>

      <% if @user == current_user %>
        <%= link_to "Edit Profile", edit_user_registration_path, class: "btn btn-outline-dark common-btn edit-profile-btn"%>
        <button type="button" class="core-sprite setting" data-toggle="modal" data-target="#exampleModal"></button>
      <% else %>
        <% if @followed %>
          <%= form_tag unfollow_users_path, method: :post, remote: true, class:'float-end' do %>
            <%= hidden_field_tag :follow_id, @user.id %>
            <%= submit_tag 'Unfollow', class:'edit-follow-btn btn btn-primary'%>
          <% end %>
        <% else %>
          <%= form_tag follow_users_path, method: :post, remote: true, class:'float-end' do %>
            <%= hidden_field_tag :follow_id, @user.id %>
            <%= submit_tag 'Follow', class:'edit-follow-btn btn btn-primary'%>
          <% end %>
        <% end %>
      <% end %>
      <!-- Modal -->
      <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Settings</h5>
              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            <div class="list-group text-center">
              <a href="#" class="list-group-item list-group-item-action">Change Password</a>
              <%= link_to "Sign out", destroy_user_session_path, method: :delete, class: "list-group-item list-group-item-action"%>
              <a href="#" class="list-group-item list-group-item-action" data-dismiss="modal">Cancel</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <li><span><%= @user.posts.count %></span> posts</li>
      <li><span><%= @user.followers.count %></span> followers</li>
      <li><span><%= @user.following.count %></span> following</li>
    </div>
    <br>
    <div class="row">
      <p class="email"><%= @user.email %></p>
    </div>
  </div>
</div>
